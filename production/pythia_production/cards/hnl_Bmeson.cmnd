! ==========================================================================
! HNL Production from B-meson decays
! For HNL masses: 2 GeV < m_N < 5 GeV
! 
! Physics: pp -> bb̄ X, B -> ℓ N (2-body) or B -> D ℓ N (3-body)
!
! Reference: arXiv:1805.08567, MATHUSLA methodology
! ==========================================================================

! -------------------------------------------------------------------------
! 1) Beam Configuration: HL-LHC at 14 TeV
! -------------------------------------------------------------------------
Beams:idA = 2212                   ! proton
Beams:idB = 2212                   ! proton  
Beams:eCM = 14000.                 ! 14 TeV center-of-mass

! -------------------------------------------------------------------------
! 2) Tune: Monash 2013 (recommended for LHC)
! -------------------------------------------------------------------------
Tune:pp = 14                       ! Monash 2013
Tune:ee = 7                        ! Monash 2013

! -------------------------------------------------------------------------
! 3) Process Selection: Hard bb̄ production
! -------------------------------------------------------------------------
! Turn off all soft QCD (want hard bb̄ for better B kinematics)
SoftQCD:all = off

! Hard QCD bb̄ processes  
HardQCD:all = off
HardQCD:hardbbbar = on             ! gg -> bb̄, qq̄ -> bb̄

! No charm or light QCD in this card
HardQCD:hardccbar = off

! No EW processes  
WeakSingleBoson:all = off

! No phase space cuts - let Pythia generate full spectrum
! (cuts can be applied at analysis level)
PhaseSpace:pTHatMin = 0.0

! -------------------------------------------------------------------------
! 4) HNL Definition
! -------------------------------------------------------------------------
! NOTE: HNL particle (9900015) is defined in C++ code, not here.
! This keeps mass/lifetime as single source of truth.
!
! The C++ code will define:
!   - PDG ID: 9900015 (following SHiP/MATHUSLA convention)
!   - Mass: set from command-line argument
!   - Lifetime: very long (stable in Pythia)
!   - Decay: disabled (handled externally)

! -------------------------------------------------------------------------
! 5) Parent meson handling
! -------------------------------------------------------------------------
! B mesons will be forced to decay to HNL from C++ code
! We don't modify decay tables here - done programmatically
! This ensures we have clean control over what channels are used

! Let all B hadrons be produced naturally by Pythia hadronization
! The decay forcing is done in the C++ code

! -------------------------------------------------------------------------
! 6) Output Control
! -------------------------------------------------------------------------
Init:showChangedSettings = on
Init:showChangedParticleData = on
Init:showAllSettings = off
Init:showAllParticleData = off

Next:numberCount = 10000           ! print progress every N events
Next:numberShowInfo = 1
Next:numberShowProcess = 1  
Next:numberShowEvent = 1

Stat:showPartonLevel = off

! -------------------------------------------------------------------------
! 7) Run Configuration (overridden from C++)
! -------------------------------------------------------------------------
Main:numberOfEvents = 100000
